# QyCore

编辑器的核心业务。

## [WIP]Road Map

- [ ] `QyCore.Param.BezireCurve`
  - [x] 控制点生成约束曲线
  - [ ] 约束曲线生成参数序列
  - [ ] 参数序列得到最相近的控制点
  - [ ] 四阶曲线与高阶曲线的相互转化
  - [ ] 最终与 `:qy_core` 业务的耦合
- [ ] `QyCore.Recipe`
  - [x] 定义 `%QyCore.Recipe.Step{}` 结构体与模块
  - [x] `[%Step{}, ...]` 可被组合成有向无环图
    - 节点是操作流程，边是数据（和 ComfyUI 一致）
  - [ ] 可对有向无环图进行处理，得到编译顺序
  - [ ] 对基于编译顺序进行组合的部分**垂直依赖**的 Steps 进行整合（形如 `Plug.Builder.compile/4`）
- [ ] 大容量参数的数据库的设计
  - [ ] 可以自动的从被调用或是被请求输出时获得结果
    - 构造 `&extract/1` 以及 `&maybe_inject/2` 函数
- [ ] 开发 `qy_flow` 应用，其可以实现：
  - 复杂的任务调度
  - 对推理进程以及管理 params stack 的进程的管理

## 负责的范围

提供一个通用的编辑器应用以及一系列用于后续开发的相关协议或接口，主要用于对时间序列（或时间序列相关的序列）进行处理、对实时性要求不高的场景。

其主要包括：

* 参数（`%QyCore.Param{}`）的管理
  * 基于贝塞尔曲线的曲线工具（`QyCore.Param.BezierCurve`）
* 对参数的**操作**（`QyCore.Recipe`）
* 对部分占用较大的参数（\[未定义\]）
  * 通过 `:ets` / `:dets` 进行保存
  * 定义对参数的操作、读取

### 参数

其主要对应 `%QyCore.Params{}` 结构体。

#### 曲线工具

### 对数据的操作

主要包括两种场景：用户的修改以及模型的生成。

## 如何使用？

### 定义参数

### 定义操作
